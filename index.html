<!DOCTYPE html>
<html>

<head>
    <title>분배계산기</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <link href="./common.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/4b54ff36e2.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="favicon.ico">
</head>

<body>
    <div id="dist">
        <div>
            <span class="float-left">
                <div class="mb-2">보스 추가</div>
                <select class="form-select" @change="addboss(event.target.value)">
                    <option value="" disabled selected>보스 추가하기</option>
                    <option v-for="i in bossList">{{i}}</option>
                </select>
            </span>
            
            <span class="float-right">
                <button type="button" class="btn btn-danger" @click="reset">
                    초기화
                </button>
            </span>
        </div>
        <div v-if="boss.length > 0">
            <div class="underline" style="opacity: 0"></div>
            <div class="section_small">
                <div class="boss-input" v-for="i in boss">
                    <h5 class="mb-3">{{i}}</h5>
                    <div class="bossItem text-center mb-5">
                        <div v-for="j in 4">
                            <div class="row">
                                <div class="col icon icon_1" v-for="k in 4"
                                    :style="'background: url(./images/'+items[(j*4)+k-5]+'.png) no-repeat center'">
                                </div>
                            </div>
                            <div class="row last">
                                <div class="num col" v-for="k in 4">
                                    <div @click="numChange(-1, i, j, k)">
                                        <i class="fa-solid fa-minus"></i>
                                    </div>
                                    <div>{{count[i][items[(j*4)+k-5]]}}</div>
                                    <div @click="numChange(1, i, j, k)"><i class="fa-solid fa-plus"></i></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="underline"></div>
            <h5 class="mb-3">시세</h5>
            <div class="section_2line">
                <div class="price-input" v-for="(i, index) in items">
                    <div class="input-group input-group-sm">
                        <span class="input-group-text">
                            <span class="icon icon_2"
                                :style="'background: url(./images/'+i+'.png) no-repeat center'"></span>
                        </span>

                        <input type="number" :class="'form-control '+(existYn[i]?'exist':'')" v-model="price[i]" />
                    </div>
                    <div class="unit" v-if="price[i] && price[i].length > 0">
                        {{getUnit(price[i])}}
                    </div>
                </div>
            </div>
            <div class="underline"></div>
            <div class="section_small">
                <div class="boss-input">
                    <h5 class="mb-3">인원수</h5>
                    <div class="bossItem text-center mb-3">
                        <div>
                            <div class="row">
                                <div class="col" v-for="i in boss">
                                    {{i}}
                                </div>
                            </div>
                            <div class="row last">
                                <div class="num col" v-for="i in boss">
                                    <div @click="peopleChange(-1, i)"><i class="fa-solid fa-minus"></i></div>
                                    <div>{{people[i]}}</div>
                                    <div @click="peopleChange(1, i)"><i class="fa-solid fa-plus"></i></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="underline"></div>
            <div class="section_small eq">
                <div class="eq-input">
                    <h5 class="mb-3">장비</h5>
                    <div class="eq-item text-center mb-3" v-for="(eq, index) in eqs">
                        <div class="eq-name">
                            <label class="w-100">
                                <span class="eq-edit"><i class="fa-solid fa-pen"></i></span>
                                <input type="text" class="eq-name-input" v-model="eqs[index].tag" />
                            </label>
                        </div>
                        <div class="input-group mb-2">
                            <select class="form-select" v-model="eqs[index].boss">
                                <option v-for="i in boss" :value="i">
                                    {{i}}
                                </option>
                            </select>
                            <input type="number" class="form-control eq-price" placeholder="가격"
                                v-model="eqs[index].price" />
                            <input type="number" class="form-control eq-num" placeholder="인원"
                                v-model="eqs[index].num" />
                            <button type="button" class="btn btn-danger form-control" @click="deleq(index)">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                        <div class="unit" v-if="eqs[index].price && eqs[index].price.length > 0">
                            {{getUnit(eqs[index].price)}}
                        </div>
                    </div>
                    <div>
                        <button type="button" class="btn btn-primary form-control" @click="addeq">
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="underline"></div>
            <h5 class="mb-3">
                분배
                <span class="float-right">
                    <div class="select-label">반올림</div>
                    <select class="form-select" v-model="round">
                        <option v-for="i in 8">{{10**(i-1)}}</option>
                    </select>
                </span>
            </h5>
            <div>
                <div class="total-box">
                    <div class="text-center">챤</div>
                    <div>{{getTotal(['루시드'])}}</div>
                </div>
                <div class="total-box">
                    <div class="text-center">문겐</div>
                    <div>{{getTotal(['더슬'])}}</div>
                </div>
                <div class="total-box">
                    <div class="text-center">숍님</div>
                    <div>{{getTotal(['스데듄', '더슬'])}}</div>
                </div>
                <div class="total-box">
                    <div class="text-center">앙크</div>
                    <div>{{getTotal(['루시드', '윌', '더슬'])}}</div>
                </div>
                <div class="total-box">
                    <div class="text-center">나머지</div>
                    <div>
                        {{getTotal(['루시드', '윌', '스데듄', '더슬'])}}
                    </div>
                </div>
            </div>
            <div class="underline"></div>
            <h5 class="mb-3">각각</h5>
            <div>
                <div :class="'total-box '+(selected.includes(key)?'exist':'')" v-for="(value, key) in totalEach"
                    @click="toggle(key)">
                    <div class="text-center">{{value.name}}</div>
                    <div>{{getFormat(value.total)}}</div>
                </div>
                <div class="total-box real-total">
                    <div class="text-center">총합</div>
                    <div>{{getFormat(realTotal)}}</div>
                </div>
            </div>
        </div>
        <div v-if="boss.length == 0" class="watermark">
            <div class="aing"></div>
            <div>보스를 추가해 주세요.</div>
        </div>
    </div>
</body>
<script src="./main.js"></script>

</html>